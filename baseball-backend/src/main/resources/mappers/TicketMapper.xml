<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="base.ball.mapper.TicketMapper">
	<select id="selectGame" parameterType="String" resultType="Ticket">
		SELECT game_code, game_date, game_team_name_home, game_team_name_away 
		FROM game
		WHERE game_date > current_date
		ORDER BY game_date
	</select>
	
	<select id="selectTicket">
	
	</select>
	
	<insert id="insertTicket" parameterType="Ticket" useGeneratedKeys="true" keyProperty="bookingId">
		insert into ticket(seat_id, seat_section, seat_price, select_seat_count, pay_method, pay_date, member_no, game_code)
		values (#{seatId}, #{seatSection}, #{seatPrice}, #{selectSeatCount}, #{payMethod}, #{payDate}, #{memberNo}, #{gameCode})
	</insert>
	
	<delete id="deleteTicket" parameterType="int">
		delete from ticket where booking_id = #{bookingId}
	</delete>
</mapper>